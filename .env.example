# ============================================
# Loop Gateway - Environment Configuration
# ============================================
# Copy this file to .env and adjust values

# --- Required ---
ANTHROPIC_API_KEY=sk-ant-xxxxx

# --- Server ---
PORT=3000
HOST=0.0.0.0

# --- Agent ---
# Model to use: claude-sonnet-4-20250514, claude-opus-4-20250514, claude-haiku-4-5-20251001
AGENT_MODEL=claude-sonnet-4-20250514
# Max tokens per agent response
AGENT_MAX_TOKENS=8192
# System prompt file path (inside container)
AGENT_SYSTEM_PROMPT_FILE=/data/system-prompt.md

# --- Container Isolation (optional) ---
# Run each agent invocation in an isolated Docker container (nanoclaw pattern)
# Requires: docker build -t loop-gateway-agent:latest ./agent-runner
AGENT_CONTAINER_MODE=false
# Max concurrent containers (default 3)
MAX_CONCURRENT_CONTAINERS=3
# Container timeout in ms (default 600000 = 10 min)
CONTAINER_TIMEOUT_MS=600000

# --- Telegram (optional) ---
# Get a bot token from @BotFather on Telegram
TELEGRAM_BOT_TOKEN=
# Comma-separated list of allowed Telegram user IDs (leave empty to allow all)
TELEGRAM_ALLOWED_USERS=

# --- WhatsApp (optional) ---
# WhatsApp will show a QR code in the Web UI on first connect
WHATSAPP_ENABLED=false

# --- Discord (optional) ---
# Create a bot at https://discord.com/developers/applications
# Enable MESSAGE CONTENT intent in Bot settings
DISCORD_BOT_TOKEN=
# Comma-separated list of allowed Discord channel IDs (leave empty to allow all)
DISCORD_ALLOWED_CHANNELS=
# Comma-separated list of allowed Discord user IDs (leave empty to allow all)
DISCORD_ALLOWED_USERS=

# --- Slack (optional) ---
# Create a Slack app at https://api.slack.com/apps with Socket Mode enabled
# Required scopes: chat:write, channels:read, users:read, app_mentions:read
SLACK_BOT_TOKEN=xoxb-xxxxx
SLACK_APP_TOKEN=xapp-xxxxx
SLACK_SIGNING_SECRET=
# Comma-separated list of allowed Slack channel IDs (leave empty to allow all)
SLACK_ALLOWED_CHANNELS=

# --- Email (optional) ---
EMAIL_IMAP_HOST=
EMAIL_IMAP_PORT=993
EMAIL_IMAP_USER=
EMAIL_IMAP_PASS=
EMAIL_SMTP_HOST=
EMAIL_SMTP_PORT=587
EMAIL_SMTP_USER=
EMAIL_SMTP_PASS=
EMAIL_POLL_INTERVAL_MS=30000
# Only process emails from these addresses (comma-separated, leave empty for all)
EMAIL_ALLOWED_SENDERS=

# --- CapCut API (optional) ---
# Local CapCutAPI server (https://github.com/sun-guannan/CapCutAPI)
# Requires: python capcut_server.py running, CapCut installed, FFmpeg
CAPCUT_API_HOST=http://localhost
CAPCUT_API_PORT=9001
